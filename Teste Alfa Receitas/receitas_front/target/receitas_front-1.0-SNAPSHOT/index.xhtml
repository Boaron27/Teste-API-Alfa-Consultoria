<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:p="primefaces" lang="pt-br">

    <h:head>
        <title>Busca de Receitas</title>
    </h:head>

    <h:body style="margin: 2rem">

        <h:form id="formBusca">

            <!-- Campo de busca -->
            <div class="card" style="padding: 1rem; text-align: center;">
                <h3>Buscar Receita</h3>
                <p:inputText id="dishInput"
                             value="#{revenueBean.dish}"
                             placeholder="Digite o nome do prato..."
                             style="width: 300px; margin-right: 10px" />
                <p:commandButton value="Buscar"
                                 icon="pi pi-search"
                                 update="carousel"
                                 actionListener="#{revenueBean.buscarReceitas}" />
            </div>

            <!-- Carrossel de receitas -->
            <div class="card" style="margin-top: 2rem;">
                <p:carousel id="carousel"
                            value="#{revenueBean.revenues}"
                            var="r"
                            numVisible="3"
                            numScroll="3"
                            circular="true"
                            autoplayInterval="5000">

                    <f:facet name="header">
                        <h5>Receitas Encontradas</h5>
                    </f:facet>

                    <div class="product-item">
                        <div class="product-item-content" style="text-align:center; padding:10px;">
                            <div class="mb-3" style="width:200px; height:200px; margin:auto; overflow:hidden; border-radius:10px;">
                                <p:graphicImage value="#{r.image_url}" style="width:100%; height:100%; object-fit:cover;" />
                            </div>
                            <div>
                                <h4 class="mb-1">#{r.title}</h4>
                                <h6 class="mt-0 mb-3">#{r.publisher}</h6>
                                <a href="#{r.source_url}" target="_blank">Ver Receita</a>
                            </div>

                            <!-- BotÃµes adicionais, igual ao exemplo -->
                            <div class="mt-3">
                                <p:commandButton type="button" icon="pi pi-search" styleClass="rounded-button mr-2" />
                                <p:commandButton type="button" icon="pi pi-star" styleClass="ui-button-success rounded-button mr-2" />
                                <p:commandButton type="button" icon="pi pi-cog" styleClass="ui-button-help rounded-button" />
                            </div>
                        </div>
                    </div>

                </p:carousel>
            </div>

        </h:form>

    </h:body>
</html>
