<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:p="primefaces" lang="pt-br">

    <h:head>
        <title>Recipe Search</title>
        <h:outputStylesheet library="css" name="style.css" />
    </h:head>

    <h:body style="margin: 2rem">

        <h:form id="formBusca">
            <div class="card" style="padding: 1rem; text-align: center;">
                <h3>Recipe Search</h3>
                <p:inputText id="dishInput"
                             value="#{revenueBean.dish}"
                             placeholder="Enter the name of the dish..."
                             style="width: 300px; margin-right: 10px" />
                <p:commandButton value="Search"
                                 icon="pi pi-search"
                                 update="carousel"
                                 actionListener="#{revenueBean.buscarReceitas}" />
            </div>

            <div class="card" style="margin-top: 2rem;">
                <p:carousel id="carousel"
                            value="#{revenueBean.revenues}"
                            var="r"
                            numVisible="3"
                            numScroll="3"
                            circular="true"
                            autoplayInterval="10000">


                    <div class="product-item">
                        <div class="product-item-content" style="text-align:center; padding:10px;">
                            <div class="mb-3" style="width:200px; height:200px; margin:auto; overflow:hidden; border-radius:10px;">
                                <p:graphicImage value="#{r.image_url}" style="width:100%; height:100%; object-fit:cover;" />
                            </div>
                            <div>
                                <h4 class="mb-1">#{r.title}</h4>
                                <h6 class="mt-0 mb-3">#{r.publisher}</h6>
                                <p:rating value="#{r.starRating}" readonly="true" stars="5" cancel="false" />
                            </div>

                            <div class="mt-3">
                                <p/>
                                <p:commandButton  type="button" icon="pi pi-search" styleClass="rounded-button mr-2" onclick="window.open('#{r.source_url}', '_blank')" />
                            </div>
                        </div>
                    </div>

                </p:carousel>
            </div>

        </h:form>

    </h:body>
</html>
